System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var i,t,u,e,n,a,c;return{setters:[function(o){i=o.createClass},function(o){t=o.cclegacy,u=o.AudioClip,e=o.resources,n=o.Node,a=o.director,c=o.AudioSource}],execute:function(){t._RF.push({},"49239ZxtsFNRp9yszU/F5J/","audioManager",void 0),o("AudioManager",function(){function o(){var o;this.canPlayBgm=!0,this.canPlayMusicEffect=!0,this._audioSource=void 0;var i=new n;i.name="__audioMgr__",null==(o=a.getScene())||o.addChild(i),a.addPersistRootNode(i),this._audioSource=i.addComponent(c)}var t=o.prototype;return t.toggleBgm=function(o){var i=void 0===o?!this.canPlayBgm:o;this.canPlayBgm=i,i?this.resume():this.stop()},t.toggleMusicEffect=function(o){this.canPlayMusicEffect=void 0===o?!this.canPlayMusicEffect:o},t.playOneShot=function(o,i){var t=this;void 0===i&&(i=1),this.canPlayMusicEffect&&(o instanceof u?this._audioSource.playOneShot(o,i):e.load(o,(function(o,u){o?console.log(o):t._audioSource.playOneShot(u,i)})))},t.play=function(o,i,t){var n=this;void 0===i&&(i=1),void 0===t&&(t=!0),this.canPlayBgm&&(o instanceof u?(this._audioSource.clip=o,this._audioSource.loop=t,this._audioSource.play(),this.audioSource.volume=i):e.load(o,(function(o,t){o?console.log(o):(n._audioSource.clip=t,n._audioSource.play(),n.audioSource.volume=i)})))},t.stop=function(){this._audioSource.stop()},t.pause=function(){this._audioSource.pause()},t.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalState.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,l,c,u,f,p,d,h,b,g,y,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Prefab,f=e.ProgressBar,p=e.instantiate,d=e.Label,h=e.tween,b=e.Vec3,g=e.UIOpacity,y=e.Component},function(e){L=e.globalState}],execute:function(){var m,v,x,w,V,C,N,P,T;s._RF.push({},"90cfcnQcSxLoIbgy3zKuD+4","Boss",void 0);var B=l.ccclass,D=l.property;e("Boss",(m=B("Boss"),v=D(c),x=D(c),w=D(u),m((N=t((C=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"bloodNode",N,n(t)),o(t,"bossIcon",P,n(t)),o(t,"decreaseLifePrefab",T,n(t)),t.lifeValue=200,t}i(t,e);var s=t.prototype;return s.start=function(){L.bossNode=this,this.updateLifeValueText()},s.decreaseLife=function(e){this.lifeValue=Math.max(0,this.lifeValue-e);var t=this.bloodNode.getComponent(f);t&&(t.progress=Math.max(this.lifeValue/200,0)),this.updateLifeValueText(),this.showDecreaseLifeTextAni(e)},s.showDecreaseLifeTextAni=function(e){var t=p(this.decreaseLifePrefab),i=t.getComponent(d);i&&(i.string="- "+e),this.bossIcon.addChild(t),h(t).by(.5,{position:new b(0,40,0)}).start(),h(t.getComponent(g)).to(.5,{opacity:0}).start()},s.getLife=function(){return this.lifeValue},s.updateLifeValueText=function(){var e=this.bloodNode.getChildByName("bloodText"),t=null==e?void 0:e.getComponent(d);t&&(t.string=this.lifeValue+"")},s.isDead=function(){return 0===this.getLife()},s.attackCat=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.node.getPosition(),null==(t=L.catNode)||t.decreaseLife();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(y)).prototype,"bloodNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(C.prototype,"bossIcon",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(C.prototype,"decreaseLifePrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=C))||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/Cat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./const.ts","./globalState.ts"],(function(e){"use strict";var t,i,r,o,a,n,s,l,u,c,p,f,d,h,b,g,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.ProgressBar,p=e.Label,f=e.Component,d=e.instantiate,h=e.tween,b=e.Vec3,g=e.UIOpacity},function(e){y=e.maxSteps},function(e){v=e.globalState}],execute:function(){var C,m,N,x,L,V,w;s._RF.push({},"6e5f0e8NrRMM5kA/bMptJKA","Cat",void 0);var T=l.ccclass,D=l.property,A=200;e("Cat",(C=T("Cat"),m=D(u),N=D(u),C((V=t((L=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(t,"bloodNode",V,o(t)),r(t,"littleCatNode",w,o(t)),t.lifeValue=A,t}i(t,e);var s=t.prototype;return s.start=function(){v.catNode=this,this.updateLifeValueText()},s.showDecreaseLifeTextAni=function(){var e=a(n().mark((function e(t){var i,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.bossNode){e.next=2;break}return e.abrupt("return");case 2:i=d(v.bossNode.decreaseLifePrefab),(r=i.getComponent(p))&&(r.string="- "+t),this.littleCatNode.addChild(i),h(i).by(.5,{position:new b(0,40,0)}).start(),h(i.getComponent(g)).to(.5,{opacity:0}).start();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.decreaseLife=function(){var e=A/y;this.lifeValue=Math.max(0,this.lifeValue-e);var t=this.bloodNode.getComponent(c);t&&(t.progress=this.lifeValue/A),this.updateLifeValueText(),this.showDecreaseLifeTextAni(e)},s.updateLifeValueText=function(){var e=this.bloodNode.getChildByName("bloodText"),t=null==e?void 0:e.getComponent(p);t&&(t.string=this.lifeValue+"")},s.isDead=function(){return 0===this.lifeValue},t}(f)).prototype,"bloodNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(L.prototype,"littleCatNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/CatLoadingBg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,a,i,o,r,d,s,c,l,p,u,g,C,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,d=e.screen,s=e.Prefab,c=e.Node,l=e.Layers,p=e.UITransform,u=e.Size,g=e.Layout,C=e.instantiate,h=e.Component}],execute:function(){var v,y,f,m,w;o._RF.push({},"fbb39h1KAZFvqkeo+WdzUgc","CatLoadingBg",void 0);var I=r.ccclass,z=r.property,L=d.devicePixelRatio,b=d.windowSize.height*L,T=d.windowSize.width*L;e("CatLoadingBg",(v=I("CatLoadingBg"),y=z(s),v((w=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"twoCatItem",w,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=new c;e.layer=l.Enum.UI_2D,e.addComponent(p).setContentSize(new u(T,b));var t=e.addComponent(g);t.spacingX=80,t.type=g.Type.HORIZONTAL,t.alignHorizontal=!0;for(var n=T/209,a=0;a<n;a++){C(this.twoCatItem);e.addChild(this.generateHorItem(80*a))}this.node.addChild(e)},o.generateHorItem=function(e){void 0===e&&(e=0);var t=new c;t.layer=l.Enum.UI_2D,t.addComponent(p).setContentSize(new u(100,b));var n=t.addComponent(g);n.spacingY=90,n.type=g.Type.VERTICAL,n.alignVertical=!0,n.paddingTop=-e;for(var a=b/420,i=0;i<a;i++){var o=C(this.twoCatItem);t.addChild(o)}return t},t}(h)).prototype,"twoCatItem",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/cell.ts",["cc","./index.ts"],(function(e){"use strict";var t,n,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.CELL_TYPE,c=e.ANIMAL_TYPE}],execute:function(){t._RF.push({},"88055uT/lxLu6Z8+FbdKhTg","cell",void 0);var u=[n.BIG_CRUSH,n.NINE_CRUSH,n.HOR_CRUSH,n.VER_CRUSH];e("isSelfBombCell",(function(e){return new Set(u).has(e)})),e("animalType2CellType",(function(e){var t=c[e];return n[t]}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CellModel.ts",["cc","./index2.ts"],(function(t){"use strict";var e,o,r;return{setters:[function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.cellPropsConfig}],execute:function(){var i;e._RF.push({},"760aesw78JPN6ha/U80PJNs","CellModel",void 0);var n=o.ccclass;o.property,t("CellModel",n("CellModel")(i=function(){function t(t,e){this.type=void 0,this.props=void 0,this.type=t;var o=r[t];if(!o)throw new Error("Not Found cellConfig for Type");this.props=null==o?void 0:o(e)}return t.prototype.attachView=function(t){this.view=t},t}())||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/CellView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./globalState.ts","./Mestery.ts","./Vine.ts"],(function(e){"use strict";var t,n,o,r,i,s,l,c,a,u,p,f,d;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.Node,i=e.instantiate,s=e.Animation,l=e.tween,c=e.Vec3},function(e){a=e.CELL_TYPE,u=e.CELL_ANI_TYPE_NAME},function(e){p=e.globalState},function(e){f=e.Mestery},function(e){d=e.Vine}],execute:function(){o._RF.push({},"c9c0brZUTtJtoSl5wNb2/Cp","CellView",void 0);var h=e("CELL_WIDTH",136),v=e("CELL_HEIGHT",136),m=e("SWAP_ANI_TIME",.3);e("default",function(){function e(e,t){this.cellModel=void 0,this.node=void 0,this.animationPromise=Promise.resolve(!0),this.cellModel=e,this.node=this.render(t)}var o=e.prototype;return o.render=function(e){var t=this.cellModel.type,n=p.cellTypePrefabs[t];if(!n)return console.error("Cannot find CellNode Prefab!!"),new r;var o=i(n);if(o.setPosition(e.x*h,e.y*v),t===a.VINE){var s=o.getComponent(d);null==s||s.initWithProps(this.cellModel.props)}return o},o.select=function(){var e=this.node.getChildByName("select");e&&(e.active=!0);var t=this.node.getComponent(s);null==t||t.play(u.CLICK)},o.unselect=function(){var e=this.node.getChildByName("select");e&&(e.active=!1);var t=this.node.getComponent(s);null==t||t.play(u.NORMAL)},o.to=function(){var e=t(n().mark((function e(t,o,r){var i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=m),console.log("cell move to",t,o),e.next=4,this.animationPromise;case 4:return this.animationPromise=new Promise((function(e){l(i.node).to(r,{position:new c(t*h,o*v,0)}).call((function(){return e(!0)})).start()})),e.abrupt("return",this.animationPromise);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,o){return e.apply(this,arguments)}}(),o.toPosition=function(){var e=t(n().mark((function e(t,o,r){var i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=m),console.log("cell move to",t,o),e.abrupt("return",new Promise((function(e){l(i.node).to(r,{position:new c(t,o,0)},{easing:"quadInOut"}).call((function(){return e(!0)})).start()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),o.crush=function(){var e=t(n().mark((function e(t){var o,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.cellModel.props.bombLife){e.next=5;break}return this.node.destroy(),e.next=4,null==(o=p.effectLayer)?void 0:o.playCrushEffect(t);case 4:return e.abrupt("return");case 5:this.cellModel.type===a.VINE?null==(r=this.node.getComponent(d))||r.unlockAnimal():this.cellModel.type===a.MYSTERY&&(null==(i=this.node.getComponent(f))||i.unlockAnimal(this.cellModel.props));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/const.ts",["cc","./testcases.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.testConfig}],execute:function(){e._RF.push({},"92384jEg6BI7boCBA3onKMG","const",void 0);t("PRJ_WIDTH",1080),t("PRJ_HEIGHT",1920),t("HOR_NUM",s.HOR_NUM),t("VER_NUM",s.VER_NUM),t("presetQueue",s.presetQueue),t("maxSteps",s.maxSteps||30);e._RF.pop()}}}));

System.register("chunks:///_virtual/Dialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginAudio.ts"],(function(o){"use strict";var i,t,e,n,r,a,c,l,s;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.inheritsLoose,e=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){r=o.cclegacy,a=o._decorator,c=o.Node,l=o.Component},function(o){s=o.LoginAudio}],execute:function(){var u,p,d,f,h;r._RF.push({},"59a27wseilG8ZJrhY23KLWr","Dialog",void 0);var g=a.ccclass,y=a.property;o("Dialog",(u=g("Dialog"),p=y(s),u((h=i((f=function(o){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=o.call.apply(o,[this].concat(r))||this,e(i,"audioNode",h,n(i)),i}t(i,o);var r=i.prototype;return r.start=function(){this.node.on(c.EventType.TOUCH_START,(function(o){o.propagationStopped=!0}))},r.hide=function(){this.node.active=!1},r.onCloseBtn=function(o){o.propagationStopped=!0,this.audioNode.playClick(),this.hide()},i}(l)).prototype,"audioNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellModel.ts","./globalState.ts","./CellView.ts"],(function(e){"use strict";var t,n,r,o,a,i,c,s,l,u,f,p,d,y,h,v,b,C,P,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.instantiate,f=e.Animation,p=e.Component,d=e.tween,y=e.UIOpacity,h=e.Vec3},function(e){v=e.CellModel},function(e){b=e.globalState},function(e){C=e.CELL_WIDTH,P=e.CELL_HEIGHT,w=e.default}],execute:function(){var E,L,g,m,x;c._RF.push({},"50fc0b5nH1KGqOq0nxCkeEa","EffectLayer",void 0);var T=s.ccclass,_=s.property;e("EffectLayer",(E=T("EffectLayer"),L=_(l),E((x=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"crushPrefab",x,o(t)),t}n(t,e);var c=t.prototype;return c.start=function(){},c.playCrushEffect=function(e){var t=this;return new Promise((function(n){var r,o=u(t.crushPrefab);null==(r=o.getComponent(f))||r.on(f.EventType.STOP,(function(){o.destroy(),n(!0)})),t.node.addChild(o),o.setPosition(e.x*C,e.y*P)}))},c.playAttackEffect=function(){var e=a(i().mark((function e(t,n,r,o){var a,c,s,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new w(new v(n),t),this.node.addChild(s.node),l=s.node.addComponent(y),s.node.setScale(new h(1.5,1.5,1)),u=this.node.getPosition(),null==(a=b.audioNode)||a.playBeat(),e.next=8,s.toPosition(253-u.x,500-u.y);case 8:return null==(c=b.bossNode)||c.decreaseLife(o),e.next=11,new Promise((function(e){d(l).to(.2,{opacity:0}).call((function(){s.node.destroy(),e(!0)})).start()}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),t}(p)).prototype,"crushPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/FailDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,i,e,n;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,n=t.Component}],execute:function(){var c;i._RF.push({},"f9ee92cF71B86oPA8BJ8hqg","FailDialog",void 0);var r=e.ccclass;e.property,t("FailDialog",r("FailDialog")(c=function(t){function i(){return t.apply(this,arguments)||this}o(i,t);var e=i.prototype;return e.start=function(){},e.show=function(){this.node.active=!0},e.onCloseDialog=function(){this.node.active=!1},i}(n))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginAudio.ts","./EffectLayer.ts","./globalState.ts","./FailDialog.ts","./SuccessDialog.ts"],(function(e){"use strict";var i,a,t,o,l,r,n,c,s,u,f,p,y,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,n=e.Prefab,c=e.director,s=e.Component},function(e){u=e.LoginAudio},function(e){f=e.EffectLayer},function(e){p=e.globalState},function(e){y=e.FailDialog},function(e){g=e.SuccessDialog}],execute:function(){var b,d,D,h,m,L,P,v,z,w,A,S,T;l._RF.push({},"1e530Ar9fBPAbDyaAyUc5PT","Game",void 0);var N=r.ccclass,k=r.property;e("Game",(b=N("Game"),d=k([n]),D=k(u),h=k(f),m=k(y),L=k(g),b((z=i((v=function(e){function i(){for(var i,a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,t(i,"cellTypePrefabs",z,o(i)),t(i,"audioNode",w,o(i)),t(i,"effectLayer",A,o(i)),t(i,"failDialog",S,o(i)),t(i,"successDialog",T,o(i)),i}a(i,e);var l=i.prototype;return l.start=function(){p.cellTypePrefabs=this.cellTypePrefabs,p.audioNode=this.audioNode,p.effectLayer=this.effectLayer,p.failDialog=this.failDialog,p.successDialog=this.successDialog},l.update=function(e){},l.onBackClick=function(){c.loadScene("home"),this.audioNode.playClick()},i}(s)).prototype,"cellTypePrefabs",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(v.prototype,"audioNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(v.prototype,"effectLayer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(v.prototype,"failDialog",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(v.prototype,"successDialog",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=v))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/globalState.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"09414ymLmpHI6zLDf5WkAfJ","globalState",void 0);e("globalState",{cellTypePrefabs:[],audioNode:void 0,effectLayer:void 0,bossNode:void 0,catNode:void 0,failDialog:void 0,useAttack:!0,gameOver:!1,successDialog:void 0});t._RF.pop()}}}));

System.register("chunks:///_virtual/graphic.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,o,e,n,c;return{setters:[function(t){r=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Graphics,c=t.Component}],execute:function(){var i;o._RF.push({},"b4f60OqPLxN/rSr6nNoVKEB","graphic",void 0);var s=e.ccclass;e.property,t("graphic",s("graphic")(i=function(t){function o(){return t.apply(this,arguments)||this}r(o,t);var e=o.prototype;return e.start=function(){var t=this.getComponent(n);t.lineWidth=10,t.strokeColor.fromHEX("#000000"),t.rect(0,0,100,100),t.stroke()},e.update=function(t){},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/GridModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellModel.ts","./const.ts","./index.ts","./cell.ts","./globalState.ts","./index2.ts","./index3.ts"],(function(e){"use strict";var n,t,r,s,l,o,a,i,u,c,p,f,h,v,y,d;return{setters:[function(e){n=e.extends,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,o=e.Vec2},function(e){a=e.CellModel},function(e){i=e.VER_NUM,u=e.presetQueue,c=e.HOR_NUM},function(e){p=e.CELL_TYPE,f=e.BombExtraInfoItemType},function(e){h=e.isSelfBombCell},function(e){v=e.globalState},function(e){y=e.commonAnimalCellType},function(e){d=e.notEmpty}],execute:function(){s._RF.push({},"39c82nnMUJBTr8/DGWFQYBv","GridModel",void 0);l.ccclass,l.property,e("GridModel",function(){function e(e){this.cells=[],this.selectedCell=[],this.view=void 0,this.view=e,this.generateCells()}var s=e.prototype;return s.getRandomCell=function(){var e=[p.COW,p.DOG,p.MONKEY,p.PANDA,p.RABBIT,p.SHEEP,p.VINE,p.MYSTERY,p.STUMP];return new a(e[~~(Math.random()*e.length)])},s.getRandomNormalCell=function(){var e=[p.COW,p.DOG,p.MONKEY,p.PANDA,p.RABBIT,p.SHEEP];return new a(e[~~(Math.random()*e.length)])},s.getCellFromPresetQueue=function(e){var n=i-e.y-1,t=e.x,r=u[n*c+t];if(void 0!==r)return Array.isArray(r)?new a(r[0],r[1]):new a(r)},s.generateCells=function(){for(var e=0;e<i;e++){this.cells[e]=[];for(var n=0;n<c;n++)this.cells[e][n]=this.getCellFromPresetQueue(new o(n,e))||this.getRandomCell()}},s.selectCell=function(){var e=t(r().mark((function e(n){var t,s,l,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.cells[n.y][n.x]){e.next=3;break}return e.abrupt("return");case 3:if(t.props.canMove){e.next=6;break}return e.abrupt("return");case 6:if(this.selectedCell.length){e.next=10;break}return this.selectedCell.push(n),this.view.selectCell(t),e.abrupt("return");case 10:if(s=this.selectedCell[0],l=this.cells[s.y][s.x],Math.abs(s.x-n.x)+Math.abs(s.y-n.y)===1){e.next=17;break}return this.clearAllSelct([t,l]),this.selectedCell.push(n),this.view.selectCell(t),e.abrupt("return");case 17:return e.next=19,this.swapCell(s,n);case 19:return e.next=21,this.checkCrushAndCreate(!0,[s,n]);case 21:if(e.sent){e.next=27;break}return e.next=25,this.swapCell(s,n);case 25:return this.clearAllSelct([t,l]),e.abrupt("return");case 27:if(!v.useAttack){e.next=32;break}if(this.checkGameOver()){e.next=32;break}return e.next=32,null==(o=v.bossNode)?void 0:o.attackCat();case 32:this.checkGameOver(),this.clearAllSelct([t,l]);case 34:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.checkGameOver=function(){var e,n;return null!=(e=v.catNode)&&e.isDead()?(this.view.showFailDialog(),v.gameOver=!0,!0):null!=(n=v.bossNode)&&n.isDead()?(this.view.showSuccessDialog(),v.gameOver=!0,!0):void 0},s.clearAllSelct=function(e){this.view.clearSelect(e),this.selectedCell=[]},s.checkCrushAndCreate=function(){var e=t(r().mark((function e(n,t){var s,l,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this.checkBomb(t),console.log("check to bomb",s),s.deadCell.length){e.next=4;break}return e.abrupt("return",!1);case 4:return console.log("neeeeeeeeeeeeed to bomb",s),l=s.deadCell.filter((function(e){return!s.newCell.some((function(n){return n.pos.x===e.x&&n.pos.y===e.y}))})).map((function(e){var n=i.cells[e.y][e.x];if(n)return n.props.bombLife--,n.props=(null==n.props.propsChange?void 0:n.props.propsChange(n.props))||n.props,0===n.props.bombLife&&(i.cells[e.y][e.x]=null),[n,e]})).filter(d),s.newCell.map((function(e){var n=e.pos,t=n.x,r=n.y,s=e.type,l=i.cells[r][t],u=new a(s);i.cells[r][t]=u,null==l||l.view.node.destroy(),i.view.addCellView(u,new o(t,r))})),e.next=9,this.view.crushCells(l);case 9:return e.next=11,this.downAndCreateCell();case 11:if(e.t0=n,!e.t0){e.next=15;break}return e.next=15,this.checkCrushAndCreate(n);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),s.downAndCreateCell=function(){var e=t(r().mark((function e(){var n,t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],function e(){for(var r=!1,s=function(e){for(var s=function(s){var l=function(l,o,a){void 0===a&&(a=!0);var i=s+l,u=e+1;n.push(o.view.to(s,e)),t.cells[e][s]=o,a&&(t.cells[u][i]=null),r=!0};if(null===t.cells[e][s]){var a,i,u,c=null==(a=t.cells[e+1])?void 0:a[s-1],p=null==(i=t.cells[e+1])?void 0:i[s],f=null==(u=t.cells[e+1])?void 0:u[s+1];if(null===p);else if(void 0===p||null!=p&&p.props.canGenerateCells){var h=t.getRandomNormalCell();t.view.addCellView(h,new o(s,e+1)),l(0,h,!1)}else if(null!=p&&p.props.canMove)l(0,p);else if(null!=c&&c.props.canMove&&null!=f&&f.props.canMove){Math.random()<.5?l(-1,c):l(1,f)}else null!=c&&c.props.canMove?l(-1,c):null!=f&&f.props.canMove&&l(1,f)}},l=0;l<c;l++)s(l)},l=0;l<i;l++)s(l);r&&e()}(),e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.getSameCellPosesHor=function(){for(var e=[],n=0;n<i;n++){for(var t=this.cells[n],r={count:0,animalType:-1,poses:[]},s=0;s<c;s++){var l=t[s],a=null==l?void 0:l.props;null!=a&&a.canCompose&&(r.animalType===a.animalType?(r.count++,r.poses.push(new o(s,n))):(r.count>=3&&e.push(r.poses),r={count:1,animalType:a.animalType,poses:[new o(s,n)]}))}r.count>=3&&e.push(r.poses)}return e},s.getSameCellPosesVer=function(){for(var e=[],n=0;n<c;n++){for(var t={count:0,animalType:-1,poses:[]},r=0;r<i;r++){var s=this.cells[r][n],l=null==s?void 0:s.props;null!=l&&l.canCompose&&(t.animalType===l.animalType?(t.count++,t.poses.push(new o(n,r))):(t.count>=3&&e.push(t.poses),t={count:1,animalType:l.animalType,poses:[new o(n,r)]}))}t.count>=3&&e.push(t.poses)}return e},s.composeNewCell=function(e,n,t){var r=this,s=function(e){return e.map((function(e){var n=e.filter((function(e){var n=r.cells[e.y][e.x];return n&&n.props.bombLife<2}));if(n.length)return n})).filter(d)};e=s(e),n=s(n);var l=[],o=[];return e.map((function(e){var r=t&&e.find((function(e){return t.find((function(n){return n.x===e.x&&n.y===e.y}))}));e.filter((function(t){var r,s=(r=t,n.find((function(e){if(e.some((function(e){if(e.x===r.x&&e.y===r.y)return!0})))return e})));if(s)return o.push(s),e.length>=5||s.length>=5?l.push({type:p.BIG_CRUSH,pos:t}):l.push({type:p.NINE_CRUSH,pos:t}),!0})).length||(e.length>=5?l.push({type:p.BIG_CRUSH,pos:r||e[~~(e.length/2)]}):e.length>=4&&l.push({type:p.VER_CRUSH,pos:r||e[~~(e.length/2)]}))})),n.filter((function(e){return!o.some((function(n){var t;return n[0]&&n[0].x===e[0].x&&(null==(t=n[0])?void 0:t.y)===e[0].y}))})).map((function(e){var n=t&&e.find((function(e){return t.find((function(n){return n.x===e.x&&n.y===e.y}))}));e.length>=5?l.push({type:p.BIG_CRUSH,pos:n||e[~~(e.length/2)]}):e.length>=4&&l.push({type:p.HOR_CRUSH,pos:n||e[~~(e.length/2)]})})),l},s.calculateBombErea=function(e){var n=this,t=[],r={},s=[],l=function e(l,a){var u=n.cells[l.y][l.x];if(!function(e){var n=[e.x,e.y].join("-");return r[n]}(l)&&u){!function(e){var n=[e.x,e.y].join("-");r[n]||(t.push(e),r[n]=!0)}(l);var h=[];if(u.type===p.HOR_CRUSH){for(var v=[],d=l.x;d-1>=0;){var m;if(d--,v.push(new o(d,l.y)),null==(m=n.cells[l.y][d])?void 0:m.props.stopVerHorCrush)break}for(var C=l.x;C+1<c;){var x;if(C++,v.push(new o(C,l.y)),null==(x=n.cells[l.y][C])?void 0:x.props.stopVerHorCrush)break}h.push.apply(h,v),s.push({type:f.HOR_LINE,bombPos:l,minPos:new o(d,l.y),maxPos:new o(C,l.y)})}else if(u.type===p.VER_CRUSH){for(var w=[],b=l.y;b-1>=0;){var g;if(b--,w.push(new o(l.x,b)),null==(g=n.cells[b][l.x])?void 0:g.props.stopVerHorCrush)break}for(var S=l.y;S+1<i;){var k;if(S++,w.push(new o(l.x,S)),null==(k=n.cells[S][l.x])?void 0:k.props.stopVerHorCrush)break}h.push.apply(h,w),s.push({type:f.VER_LINE,bombPos:l,minPos:new o(l.x,b),maxPos:new o(l.x,S)})}else if(u.type===p.NINE_CRUSH){for(var R=-1;R<=1;R++)for(var E=-1;E<=1;E++){var M=l.x+R,H=l.y+E;M>=0&&M<i&&H>=0&&H<i&&h.push(new o(M,H))}s.push({type:f.NINE_CRUSH,bombPos:l})}else if(a&&new Set(y).has(u.type)){[[-1,0],[1,0],[0,-1],[0,1]].forEach((function(e){var t,r=e[0],s=e[1],a=new o(l.x+r,l.y+s),i=null==(t=n.cells[a.y])?void 0:t[a.x];i&&i.props.canBeSiblingBombDecreaseLife&&h.push(a)}))}h.map((function(n){e(n,!1)}))}};return e.map((function(e){return l(e,!0)})),{deadCell:t,extraInfo:s}},s.checkBomb=function(e){var t=this,r=[];null==e||e.map((function(e){var n=t.cells[e.y][e.x];n&&h(n.type)&&r.push(e)}));var s=this.getSameCellPosesHor();console.log("sssssssamehor",s);var l=this.getSameCellPosesVer();console.log("sssssssameVer",l);var o=this.composeNewCell(s,l,e);[].concat(s,l).map((function(e){r.push.apply(r,e)}));var a=this.calculateBombErea(r);return n({newCell:o},a)},s.swapCell=function(){var e=t(r().mark((function e(n,t){var s,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.cells[n.y][n.x],l=this.cells[t.y][t.x],this.cells[n.y][n.x]=l,this.cells[t.y][t.x]=s,e.next=6,Promise.all([null==s?void 0:s.view.to(t.x,t.y),null==l?void 0:l.view.to(n.x,n.y)]);case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/GridView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./GridModel.ts","./index3.ts","./const.ts","./globalState.ts","./CellView.ts"],(function(e){"use strict";var t,n,r,o,i,a,c,s,u,l,f,p,d,h,v,w,m,x,y,g,C,T,M,b,k,E,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Prefab,l=e.Node,f=e.UITransform,p=e.Vec3,d=e.Vec2,h=e.director,v=e.Component,w=e.instantiate,m=e.Animation},function(e){x=e.CELL_TYPE,y=e.ATTACK_ANIMAL_TYPE},function(e){g=e.GridModel},function(e){C=e.sleep},function(e){T=e.HOR_NUM,M=e.VER_NUM},function(e){b=e.globalState},function(e){k=e.default,E=e.CELL_WIDTH,P=e.CELL_HEIGHT}],execute:function(){var L,A,V,H,I,S,_;c._RF.push({},"b91d1HKL89EOI2lCRkfqoPx","GridView",void 0);var D=s.ccclass,G=s.property;e("GridView",(L=D("GridView"),A=G(u),V=G(l),L((S=t((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).canMove=!1,r(t,"cellBg",S,o(t)),r(t,"hardTips",_,o(t)),t}n(t,e);var c=t.prototype;return c.start=function(){this.gridModel=new g(this),this.initView(),this.bindEvent()},c.initView=function(){var e=i(a().mark((function e(){var t,n,r,o,i,c,s,u,l,p=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 200,s=-(i=E*T)/2,u=-((c=P*M)/2+200),this.node.setPosition(s,u),null==(t=this.node.getComponent(f))||t.setContentSize(i,c),console.log("eeeeeeeeeeeeeffffffffff",s,u),null==(n=b.effectLayer)||n.node.setPosition(s,u),null==(r=b.effectLayer)||null==(o=r.node.getComponent(f))||o.setContentSize(i,c),this.gridModel.cells.forEach((function(e,t){e.forEach((function(e,n){var r;if((null==e?void 0:e.type)!==x.EMPTY){var o=w(p.cellBg);null==(r=o.getComponent(f))||r.setAnchorPoint(0,0),o.setPosition(n*E,t*P),p.node.addChild(o)}}))})),this.gridModel.cells.forEach((function(e,t){e.forEach((function(e,n){if(e){var r=new k(e,new d(n,t));e.attachView(r),p.node.addChild(r.node)}}))})),e.next=14,C(0);case 14:return e.next=16,this.gridModel.checkCrushAndCreate(!0);case 16:e.sent&&b.useAttack&&(null==(l=b.bossNode)||l.attackCat()),this.showHardTipsAndHide(),this.canMove=!0;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.addCellView=function(e,t){var n=new k(e,t);e.attachView(n),this.node.addChild(n.node)},c.bindEvent=function(){var e=this;this.node.on(l.EventType.TOUCH_START,i(a().mark((function t(n){var r,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.gameOver){t.next=2;break}return t.abrupt("return");case 2:if(e.canMove){t.next=4;break}return t.abrupt("return");case 4:return null==(r=b.audioNode)||r.playClick(),o=n.getUILocation(),i=e.converTouchPosToCellPos(o),e.canMove=!1,t.next=10,e.gridModel.selectCell(i);case 10:e.canMove=!0;case 11:case"end":return t.stop()}}),t)})))),this.node.on(l.EventType.TOUCH_MOVE,i(a().mark((function t(n){var r,o,i,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.canMove){t.next=10;break}if(r=n.getUIStartLocation(),o=e.converTouchPosToCellPos(r),i=n.getUILocation(),c=e.converTouchPosToCellPos(i),o.x==c.x&&o.y==c.y){t.next=10;break}return e.canMove=!1,t.next=9,e.gridModel.selectCell(c);case 9:e.canMove=!0;case 10:case"end":return t.stop()}}),t)}))),this)},c.converTouchPosToCellPos=function(e){var t=this.node.getComponent(f).convertToNodeSpaceAR(new p(e.x,e.y,0)),n=~~(t.x/E),r=~~(t.y/P);return console.log("tttttttttttttouch start cell",n,r),new d(n,r)},c.selectCell=function(e){e.view.select()},c.clearSelect=function(e){e.map((function(e){e.view.node.isValid&&e.view.unselect()}))},c.crushCells=function(){var e=i(a().mark((function e(t){var n,r,o,c,s,u,l,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=b.audioNode)||n.playOneLoopCrush(),b.useAttack){e.next=5;break}return e.next=4,Promise.all(t.map(i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].view.crush(t[1]);case 2:case"end":return e.stop()}}),e)})))));case 4:return e.abrupt("return");case 5:return t.filter((function(e){return e[0].props.bombLife>0})).map((function(e){e[0].view.crush(e[1])})),o=t.filter((function(e){return 0===e[0].props.bombLife})),c=Math.min.apply(Math,o.map((function(e){return e[1].x}))),s=Math.max.apply(Math,o.map((function(e){return e[1].x}))),u=Math.min.apply(Math,o.map((function(e){return e[1].y}))),l=Math.max.apply(Math,o.map((function(e){return e[1].y}))),f=(c+s)/2,p=(u+l)/2,e.next=17,Promise.all(o.map(i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t[0].view.node.setSiblingIndex(100),e.next=3,t[0].view.to(f,p,.2);case 3:case"end":return e.stop()}}),e)})))));case 17:o.map(i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[0].view.node.destroy();case 1:case"end":return e.stop()}}),e)})))),null==(r=b.effectLayer)||r.playAttackEffect(new d(f,p),o[0][0].type,y.BIG,~~(o.length/2.5));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.showFailDialog=function(){var e;null==(e=b.failDialog)||e.show()},c.showSuccessDialog=function(){var e,t;null==(e=b.successDialog)||e.show(),null==(t=b.successDialog)||t.onHide((function(){h.loadScene("home")}))},c.showHardTipsAndHide=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(500);case 2:null==(t=this.hardTips.getComponent(m))||t.once(m.EventType.FINISHED,i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(600);case 2:t.play("hide");case 3:case"end":return e.stop()}}),e)})))),this.hardTips.active=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(v)).prototype,"cellBg",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(I.prototype,"hardTips",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=I))||H));c._RF.pop()}}}));

System.register("chunks:///_virtual/Home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginAudio.ts","./SceneLoading.ts","./MedalGallery.ts","./Setting.ts"],(function(e){"use strict";var i,n,o,t,a,l,r,c,u,d,s,p,f,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Node,c=e.instantiate,u=e.director,d=e.Component},function(e){s=e.LoginAudio},function(e){p=e.SceneLoading},function(e){f=e.MedalGallery},function(e){g=e.Setting}],execute:function(){var y,h,b,m,N,k,v,S,C,w,z,G,L,B,D;a._RF.push({},"8977d507lVBsrdAzMfd9sdd","Home",void 0);var I=l.ccclass,H=l.property;e("Home",(y=I("Home"),h=H(s),b=H(g),m=H(r),N=H(),k=H(f),v=H(r),y((w=i((C=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,o(i,"audioNode",w,t(i)),o(i,"settingNode",z,t(i)),o(i,"userInfoDialog",G,t(i)),o(i,"loadingScene",L,t(i)),o(i,"medalGalleryNode",B,t(i)),o(i,"rankGalleryNode",D,t(i)),i}n(i,e);var a=i.prototype;return a.start=function(){this.audioNode.playBgm()},a.update=function(e){},a.onStartButtonClick=function(){var e=c(this.loadingScene);this.node.addChild(e);var i=e.getComponent(p);u.preloadScene("game",(function(e,n,o){var t=e/n;null==i||i.showLoadingPercent(t)}),(function(){u.loadScene("game")}))},a.onShowSettingClick=function(){this.audioNode.playClick(),this.settingNode.node.active=!0},a.onUserInfoIconClick=function(){this.audioNode.playClick(),this.userInfoDialog.active=!0},a.onMedalButtonClick=function(){this.audioNode.playClick(),this.medalGalleryNode.node.active=!0},a.onRankButtonClick=function(){this.audioNode.playClick(),this.rankGalleryNode.active=!0},i}(d)).prototype,"audioNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(C.prototype,"settingNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(C.prototype,"userInfoDialog",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(C.prototype,"loadingScene",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(C.prototype,"medalGalleryNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(C.prototype,"rankGalleryNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var R,N,C,I,T,A,S;E({ANIMAL_TYPE:void 0,ATTACK_ANIMAL_TYPE:void 0,BombExtraInfoItemType:void 0,CELL_ANI_TYPE_NAME:void 0,CELL_TYPE:void 0,CRUSH_TYPE:void 0,ViewChangeType:void 0}),_._RF.push({},"687ffrdMARLaq/YsBNLdxhF","index",void 0),function(E){E[E.SELECT_ITEM=0]="SELECT_ITEM",E[E.MOVE_TO=1]="MOVE_TO",E[E.BOMB=2]="BOMB"}(R||(R=E("ViewChangeType",{}))),function(E){E[E.NONE=0]="NONE",E[E.DOG=1]="DOG",E[E.SHEEP=2]="SHEEP",E[E.RABBIT=3]="RABBIT",E[E.MONKEY=4]="MONKEY",E[E.PANDA=5]="PANDA",E[E.COW=6]="COW"}(N||(N=E("ANIMAL_TYPE",{}))),function(E){E[E.DOG=0]="DOG",E[E.SHEEP=1]="SHEEP",E[E.RABBIT=2]="RABBIT",E[E.MONKEY=3]="MONKEY",E[E.PANDA=4]="PANDA",E[E.COW=5]="COW",E[E.VER_CRUSH=6]="VER_CRUSH",E[E.HOR_CRUSH=7]="HOR_CRUSH",E[E.NINE_CRUSH=8]="NINE_CRUSH",E[E.BIG_CRUSH=9]="BIG_CRUSH",E[E.VINE=10]="VINE",E[E.MYSTERY=11]="MYSTERY",E[E.STUMP=12]="STUMP",E[E.EMPTY=13]="EMPTY"}(C||(C=E("CELL_TYPE",{}))),function(E){E[E.BIG=0]="BIG"}(I||(I=E("ATTACK_ANIMAL_TYPE",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.BIG_CRUSH=1]="BIG_CRUSH",E[E.NINE_CRUSH=2]="NINE_CRUSH",E[E.HOR_CRUSH=3]="HOR_CRUSH",E[E.VER_CRUSH=4]="VER_CRUSH"}(T||(T=E("CRUSH_TYPE",{}))),function(E){E[E.HOR_LINE=0]="HOR_LINE",E[E.VER_LINE=1]="VER_LINE",E[E.NINE_CRUSH=2]="NINE_CRUSH"}(A||(A=E("BombExtraInfoItemType",{}))),function(E){E.CLICK="click",E.NORMAL="normal",E.UNLOCK="unlock"}(S||(S=E("CELL_ANI_TYPE_NAME",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./cell.ts"],(function(e){"use strict";var n,o,a,i,c,r;return{setters:[function(e){n=e.extends},function(e){o=e.cclegacy},function(e){a=e.ANIMAL_TYPE,i=e.CELL_TYPE,c=e.CRUSH_TYPE},function(e){r=e.animalType2CellType}],execute:function(){var m;o._RF.push({},"907b9ch0g9FqJ+Nyb6ILYD2","index",void 0);var s=e("commonAnimalTypes",[a.DOG,a.COW,a.PANDA,a.MONKEY,a.RABBIT,a.SHEEP]),t=(e("commonAnimalCellType",s.map((function(e){return r(e)}))),{});s.forEach((function(e){var n,o=r(e);t[o]=(n=e,function(){return{bombLife:1,animalType:n,crushType:c.NORMAL,canCompose:!0,canMove:!0,canBeSiblingBombDecreaseLife:!1}})}));e("cellPropsConfig",n({},t,((m={})[i.HOR_CRUSH]=function(){return{bombLife:1,canMove:!0,canCompose:!1,animalType:a.NONE,crushType:c.HOR_CRUSH,canBeSiblingBombDecreaseLife:!1}},m[i.VER_CRUSH]=function(){return{bombLife:1,canMove:!0,canCompose:!1,animalType:a.NONE,crushType:c.VER_CRUSH,canBeSiblingBombDecreaseLife:!1}},m[i.NINE_CRUSH]=function(){return{bombLife:1,canMove:!0,canCompose:!1,animalType:a.NONE,crushType:c.NINE_CRUSH,canBeSiblingBombDecreaseLife:!1}},m[i.BIG_CRUSH]=function(){return{bombLife:1,canMove:!0,canCompose:!1,animalType:a.NONE,crushType:c.BIG_CRUSH,canBeSiblingBombDecreaseLife:!1}},m[i.VINE]=function(e){return void 0===e&&(e={}),void 0===e.animalType&&(e.animalType=s[~~(Math.random()*s.length)]),{bombLife:2,canMove:!1,canCompose:!0,animalType:e.animalType,crushType:c.NORMAL,stopVerHorCrush:!0,canBeSiblingBombDecreaseLife:!1,propsChange:function(e){return 1===e.bombLife&&(e.canMove=!0,e.stopVerHorCrush=!1),e}}},m[i.MYSTERY]=function(){return{bombLife:2,canMove:!0,canCompose:!1,animalType:a.NONE,crushType:c.NORMAL,canBeSiblingBombDecreaseLife:!0,propsChange:function(e){return 1===e.bombLife&&(e.canMove=!0,e.canCompose=!0,e.animalType=1+~~(5*Math.random())),e}}},m[i.STUMP]=function(){return{bombLife:1,canMove:!1,canCompose:!1,animalType:a.NONE,crushType:c.NORMAL,canBeSiblingBombDecreaseLife:!1}},m[i.EMPTY]=function(){return{bombLife:1e5,canMove:!1,canCompose:!1,animalType:a.NONE,crushType:c.NORMAL,canGenerateCells:!0,canBeSiblingBombDecreaseLife:!0}},m)));o._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("notEmpty",(function(t){return null!=t})),e._RF.push({},"f6964Iy9s5AgIo4SKBUpafw","index",void 0);t("sleep",(function(t){return new Promise((function(e){setTimeout(e,t)}))}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginAudio.ts","./index3.ts"],(function(e){"use strict";var t,r,n,o,i,a,u,s,c,l,p,d,f,g,h,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,c=e.ProgressBar,l=e.Label,p=e.Node,d=e.director,f=e.Component,g=e.screen,h=e.profiler},function(e){y=e.LoginAudio},function(e){v=e.sleep}],execute:function(){var b,B,m,N,w,x,L,S,z,R,k;u._RF.push({},"f1616X7hcREeYhjC145nAnN","Login",void 0);var A=s.ccclass,C=s.property;e("Login",(b=A("Login"),B=C(c),m=C(l),N=C(y),w=C(p),b((S=t((L=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"progressBar",S,o(t)),n(t,"loadingText",z,o(t)),n(t,"audioNode",R,o(t)),n(t,"startButtonNode",k,o(t)),t}r(t,e);var u=t.prototype;return u.start=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.director=d,h.hideStats(),e.next=4,v(0);case 4:null==(t=this.audioNode)||t.playBgm(),console.log(g.devicePixelRatio,g.resolution);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onStartButtonClick=function(){var e;null==(e=this.audioNode)||e.playClick(),this.loadNextScene()},u.loadNextScene=function(){var e=this;this.startButtonNode.active=!1,this.progressBar&&(this.progressBar.node.active=!0),d.preloadScene("home",(function(t,r,n){e.progressBar&&(e.progressBar.progress=t/r)}),(function(){d.loadScene("home")}))},u.update=function(e){},t}(f)).prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(L.prototype,"loadingText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"audioNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(L.prototype,"startButtonNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L))||x));u._RF.pop()}}}));

System.register("chunks:///_virtual/LoginAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(a){"use strict";var i,e,n,t,o,r,l,u,c,s;return{setters:[function(a){i=a.applyDecoratedDescriptor,e=a.inheritsLoose,n=a.initializerDefineProperty,t=a.assertThisInitialized,o=a.createClass},function(a){r=a.cclegacy,l=a._decorator,u=a.AudioClip,c=a.Component},function(a){s=a.AudioManager}],execute:function(){var g,f,p,d,y,h,b,m,v,M,L;r._RF.push({},"742bfiLS9NKK5jMle/fR47l","LoginAudio",void 0);var k=l.ccclass,A=l.property;a("LoginAudio",(g=k("LoginAudio"),f=A(u),p=A(u),d=A(u),y=A(u),g((m=i((b=function(a){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=a.call.apply(a,[this].concat(o))||this,n(i,"bgm",m,t(i)),n(i,"click",v,t(i)),i.audioManager=void 0,n(i,"eliminate1",M,t(i)),n(i,"beat",L,t(i)),i}e(i,a);var r=i.prototype;return r.start=function(){console.log("aaaaaaaaaaaaaaaaudio Node start"),this.audioManager=s.inst},r.toggleBgm=function(a){var i;null==(i=this.audioManager)||i.toggleBgm(a)},r.toggleMusicEffect=function(a){var i;null==(i=this.audioManager)||i.toggleMusicEffect(a)},r.playBgm=function(){var a;this.bgm&&(null==(a=this.audioManager)||a.play(this.bgm))},r.playClick=function(){var a;null==(a=this.audioManager)||a.playOneShot(this.click)},r.playOneLoopCrush=function(){var a;null==(a=this.audioManager)||a.playOneShot(this.eliminate1)},r.playBeat=function(){},o(i,[{key:"canPlayBgm",get:function(){var a;return null==(a=this.audioManager)?void 0:a.canPlayBgm}},{key:"canPlayMusicEffect",get:function(){var a;return null==(a=this.audioManager)?void 0:a.canPlayMusicEffect}}]),i}(c)).prototype,"bgm",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(b.prototype,"click",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(b.prototype,"eliminate1",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(b.prototype,"beat",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LoginAudio.ts","./index2.ts","./Boss.ts","./Cat.ts","./CatLoadingBg.ts","./Dialog.ts","./FailDialog.ts","./Game.ts","./Home.ts","./Login.ts","./MedalGallery.ts","./SceneLoading.ts","./Setting.ts","./SuccessDialog.ts","./EffectLayer.ts","./index.ts","./CellModel.ts","./GridModel.ts","./graphic.ts","./audioManager.ts","./cell.ts","./const.ts","./globalState.ts","./index3.ts","./testcases.ts","./CellView.ts","./GridView.ts","./Mestery.ts","./Vine.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MedalGallery.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.Component}],execute:function(){var a;r._RF.push({},"778f3EdsGxMaIqZJx+giJK1","MedalGallery",void 0);var l=n.ccclass;n.property,e("MedalGallery",l("MedalGallery")(a=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.start=function(){},n.update=function(e){},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Mestery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./cell.ts","./globalState.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,s,c,u,p,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Node,s=t.instantiate,c=t.Animation,u=t.Component},function(t){p=t.CELL_ANI_TYPE_NAME},function(t){y=t.animalType2CellType},function(t){f=t.globalState}],execute:function(){var h,d,m,v,C;a._RF.push({},"3ed19kMtqNNyrwbGusLT4Xv","Mestery",void 0);var b=o.ccclass,g=o.property;t("Mestery",(h=b("Mestery"),d=g(l),h((C=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"animalContainer",C,r(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.initWithProps=function(t){var e=t.animalType,n=y(e),i=f.cellTypePrefabs[n],r=s(i);this.animalContainer.addChild(r)},a.unlockAnimal=function(t){this.initWithProps(t);var e=this.node.getComponent(c);null==e||e.play(p.UNLOCK)},e}(u)).prototype,"animalContainer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/SceneLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,i,r,o,a,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,s=e.Component}],execute:function(){var l,u,p,g,d;o._RF.push({},"7021aj8hCBM+4eM76oQhgsY","SceneLoading",void 0);var f=a.ccclass,h=a.property;e("SceneLoading",(l=f("SceneLoading"),u=h(c),l((d=n((g=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"loadingText",d,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){},o.showLoadingPercent=function(e){var n=~~(100*e)+"%";this.loadingText.string=n},n}(s)).prototype,"loadingText",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Setting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoginAudio.ts"],(function(e){"use strict";var t,i,o,n,u,r,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){u=e.cclegacy,r=e._decorator,a=e.Node,c=e.Component},function(e){l=e.LoginAudio}],execute:function(){var s,d,f,g,p,h,y,N,m;u._RF.push({},"15d380tMfJEWLQLLQ0h0tSi","Setting",void 0);var b=r.ccclass,M=r.property;e("Setting",(s=b("Setting"),d=M(l),f=M(a),g=M(a),s((y=t((h=function(e){function t(){for(var t,i=arguments.length,u=new Array(i),r=0;r<i;r++)u[r]=arguments[r];return t=e.call.apply(e,[this].concat(u))||this,o(t,"audioNode",y,n(t)),o(t,"bgmMuteNode",N,n(t)),o(t,"musicEffectMuteNode",m,n(t)),t}i(t,e);var u=t.prototype;return u.start=function(){},u.onToggleBgm=function(){this.audioNode.toggleBgm(),this.bgmMuteNode.active=!this.audioNode.canPlayBgm,this.audioNode.playClick()},u.onToggleMusicEffect=function(){this.audioNode.toggleMusicEffect(),this.musicEffectMuteNode.active=!this.audioNode.canPlayMusicEffect,this.audioNode.playClick()},t}(c)).prototype,"audioNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(h.prototype,"bgmMuteNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(h.prototype,"musicEffectMuteNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/SuccessDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var c,e,i,n;return{setters:[function(t){c=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,n=t.Component}],execute:function(){var o;e._RF.push({},"ce76fLfHOFEb6g9QEP+GgUl","SuccessDialog",void 0);var s=i.ccclass;i.property,t("SuccessDialog",s("SuccessDialog")(o=function(t){function e(){for(var c,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(c=t.call.apply(t,[this].concat(i))||this).hideCallback=void 0,c}c(e,t);var i=e.prototype;return i.start=function(){},i.show=function(){this.node.active=!0},i.hide=function(){var t;this.node.active=!0,null==(t=this.hideCallback)||t.call(this)},i.onHide=function(t){this.hideCallback=t},i.onNodeClick=function(){this.hide()},e}(n))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/testcases.ts",["cc","./index.ts"],(function(e){"use strict";var t,s,c;return{setters:[function(e){t=e.cclegacy},function(e){s=e.CELL_TYPE,c=e.ANIMAL_TYPE}],execute:function(){t._RF.push({},"d0052Fq9s1Okp/7MNUc5ow+","testcases",void 0);var n=function(e){return[s.VINE,{animalType:e}]},u=s.STUMP,i=(s.VINE,c.COW,s.NINE_CRUSH,s.NINE_CRUSH,s.MYSTERY,s.MYSTERY,{VER_NUM:7,HOR_NUM:7,maxSteps:40,presetQueue:[1,2,0,0,3,0,3,4,5,4,5,4,4,3,3,2,5,1,4,3,1,4,0,2,n(4),1,2,2,5,4,n(1),u,n(2),0,0,0,n(1),u,u,u,n(5),0,n(5),u,u,u,u,u,n(3)]});e("useTest",!0),e("testConfig",i);t._RF.pop()}}}));

System.register("chunks:///_virtual/Vine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./cell.ts","./globalState.ts"],(function(n){"use strict";var t,e,i,a,o,r,l,c,s,u,p,f,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,l=n.Node,c=n.instantiate,s=n.Animation,u=n.Component},function(n){p=n.CELL_ANI_TYPE_NAME},function(n){f=n.animalType2CellType},function(n){y=n.globalState}],execute:function(){var d,h,m,C,v;o._RF.push({},"a165fhictpBCbBHUkJVYsEc","Vine",void 0);var b=r.ccclass,g=r.property;n("Vine",(d=b("Vine"),h=g(l),d((v=t((C=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o))||this,i(t,"animalContainer",v,a(t)),t}e(t,n);var o=t.prototype;return o.start=function(){},o.initWithProps=function(n){var t=n.animalType,e=f(t),i=y.cellTypePrefabs[e],a=c(i);this.animalContainer.addChild(a)},o.unlockAnimal=function(){var n=this.node.getComponent(s);null==n||n.play(p.UNLOCK)},o.update=function(n){},t}(u)).prototype,"animalContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=C))||m));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});